!function(){"use strict";var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},n=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||window.clearTimeout,e=function(t){return new Array(t).fill(0).map(function(t,n){return n})},i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var a=function(){function a(t,n){var o=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),this.randomPoints=function(){return e(Math.ceil(o.c.count*o.canvas.width*o.canvas.height/4e5)).map(function(){return{x:Math.random()*o.canvas.width,y:Math.random()*o.canvas.height,xa:2*Math.random()-1,ya:2*Math.random()-1,xd:0,yd:0,max:6e3}})},this.el=t,console.log(n),this.c=i({zIndex:-1,opacity:.5,color:"0,0,0",pointColor:"0,0,0",count:99},n),this.canvas=this.newCanvas(),this.context=this.canvas.getContext("2d"),this.points=this.randomPoints(),this.current={x:null,y:null,max:2e4},this.all=this.points.concat([this.current]),this.bindEvent(),this.requestFrame(this.drawCanvas)}return o(a,[{key:"bindEvent",value:function(){var t=this;this.canvas.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.canvas.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.onmousemove=window.onmousemove,window.onmousemove=function(n){t.current.x=n.clientX,t.current.y=n.clientY,t.onmousemove&&t.onmousemove(n)}}},{key:"newCanvas",value:function(){var t,n=document.createElement("canvas");return console.log(this.c),n.style.cssText="display:block;position:fixed;top:0;left:0;overflow:hidden;pointer-events:none;z-index:"+(t=this.c).zIndex+";opacity:"+t.opacity,n.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.el.appendChild(n),n}},{key:"requestFrame",value:function(n){var e=this;this.tid=t(function(){return n.call(e)})}},{key:"drawCanvas",value:function(){var t=this,n=this.context,e=this.canvas.width,i=this.canvas.height,o=this.current,a=this.points,r=this.all;n.clearRect(0,0,e,i);var c=void 0,s=void 0,u=void 0,d=void 0,h=void 0,l=void 0,m=void 0,v=void 0;a.forEach(function(a,w){for(n.fillStyle="rgba("+t.c.pointColor+")",s=w+1;s<r.length;s++)null!==(c=r[s]).x&&null!==c.y&&(d=a.x-c.x,h=a.y-c.y,m=a.x+a.xa-c.x,v=a.y+a.ya-c.y,l=d*d+h*h,c===o&&(l<c.max?(a.xd=(Math.abs(m)>Math.abs(d)&&Math.abs(m)*Math.abs(d)>0?-1:1)*l/c.max*2*a.xa,a.yd=(Math.abs(v)>Math.abs(h)&&Math.abs(v)*Math.abs(h)>0?-1:1)*l/c.max*2*a.ya):(a.xd=0,a.yd=0)),l<c.max&&(u=(c.max-l)/c.max,n.beginPath(),n.lineWidth=u/2,n.strokeStyle="rgba("+t.c.color+","+(u+.2)+")",n.moveTo(a.x,a.y),n.lineTo(c.x,c.y),n.stroke()));a.x+=a.xa+a.xd,a.y+=a.ya+a.yd,a.xa*=a.x>e||a.x<0?-1:1,a.ya*=a.y>i||a.y<0?-1:1,n.fillRect(a.x-.5,a.y-.5,1,1)}),this.requestFrame(this.drawCanvas)}},{key:"destroy",value:function(){window.onmousemove=this.onmousemove,window.onmouseout=this.onmouseout,n(this.tid),this.canvas.parentNode.removeChild(this.canvas)}}]),a}();a.version="2.0.4";var r,c;new a(document.body,(r=document.getElementsByTagName("script"),{zIndex:(c=r[r.length-1]).getAttribute("zIndex")||-1,opacity:c.getAttribute("opacity")||.5,color:c.getAttribute("color")||"0,0,0",pointColor:c.getAttribute("pointColor")||"0,0,0",count:Number(c.getAttribute("count"))||99}))}();
